<div class="container-fluid py-4" dir="rtl">
    <div class="row">
        <div class="col-12">

            <!--Prisoners-->
            <div class="card" v-if="state==0">
                <!-- Card header -->
                <div class="card-header pb-0">
                    <div class="d-lg-flex">
                        <div>
                            <h5 class="font-weight-bolder mb-0">إدارة بيانات الأسري </h5>
                            <p class="mb-0 text-sm" style="margin-top: 7px;">قائمة بجميع الأسري المخزنين داخل النظام  </p>
                        </div>
                        <div class="ms-auto my-auto mt-lg-0 mt-4">
                            <div class="ms-auto my-auto">
                                <!--<button style="margin: 10px;" type="button" @click="AddItemPage"
                            class="btn btn-outline-primary btn-sm mb-0">
                            إضـافـة المـرضــى
                        </button>-->


                                <button style="margin: 10px;" type="button" @click="Refresh()"
                                        class="btn btn-outline-warning btn-sm mb-0">
                                    تحديث
                                </button>

                                <button style="margin: 10px;" type="button" @click="ExportData()"
                                        class="btn btn-outline-success btn-sm mb-0">
                                    تصدير
                                </button>
                                <button style="margin: 10px;" type="button" @click="Print()"
                                        class="btn btn-outline-primary btn-sm mb-0">
                                    طباعة البيانات
                                </button>
                                <button style="margin: 10px;"
                                        type="button"
                                        v-if="loginDetails.userType == 1"
                                        @click="PrintAllPrisoners()"
                                        class="btn btn-outline-danger btn-sm mb-0">
                                    طباعة بيانات كل الأسري
                                </button>


                            </div>
                        </div>
                    </div>
                </div>



                <div class="row mt-3 px-3" v-if="loginDetails.userType == 1">
                    <div class="col-md-2">
                        <div class="form-group bmd-form-group">
                            <el-select style="width: 100%;"
                                       v-model="CityId"
                                       filterable
                                       placeholder="المدينة"
                                       @change="GetMunicipalitiesInfo()">
                                <el-option v-for="item in Cities"
                                           :key="item.id"
                                           :label="item.name"
                                           :value="item.id">
                                </el-option>
                            </el-select>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <el-select v-model="MunicipalitiesId"
                                   style="width:100%;"
                                   @change="GetOfficesInfo()"
                                   filterable
                                   placeholder="البلديات">
                            <el-option v-for="item in Municipalities"
                                       :key="item.id"
                                       :label="item.name"
                                       :value="item.id">
                            </el-option>
                        </el-select>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group bmd-form-group">
                            <el-select @change="GetInfo()"
                                       v-model="OfficeId"
                                       filterable
                                       placeholder="المركز الخدمي ">
                                <el-option v-for="item in Offices"
                                           :key="item.id"
                                           :label="item.name"
                                           :value="item.id">
                                </el-option>
                            </el-select>
                        </div>
                    </div>
                </div>



                <div class="row mt-3 px-3">

                    <div class="col-md-3">
                        <div class="form-group bmd-form-group">
                            <label> البحت عن طريق الرقم الوطني او الاسم  </label>
                            <el-select v-model="PrisonersId"
                                       id="selectInputNid"
                                       :remote-method="FilterByNid"
                                       remote
                                       reserve-keyword
                                       style="width:100%"
                                       filterable placeholder="الرقم الوطني "
                                       @change="GetInfo()">
                                <el-option v-for="item in Prisoners"
                                           :key="item.id"
                                           :label="item.nid"
                                           :value="item.id">
                                    <span style="float: right">{{ item.nid }}</span>
                                    <span style="float: left; color: #8492a6; font-size: 13px">{{ item.name }}</span>
                                </el-option>
                            </el-select>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group bmd-form-group">
                            <label> البحت عن طريق رقن الملف </label>
                            <el-select v-model="PrisonersId"
                                       id="selectInputPass"
                                       :remote-method="FilterByPass"
                                       remote
                                       reserve-keyword
                                       style="width:100%"
                                       filterable placeholder="رقم  الملف "
                                       @change="GetInfo()">
                                <el-option v-for="item in Prisoners"
                                           :key="item.id"
                                           :label="item.passport"
                                           :value="item.id">
                                    <span style="float: right">{{ item.barCode }}</span>
                                    <span style="float: left; color: #8492a6; font-size: 13px">{{ item.name }}</span>
                                </el-option>
                            </el-select>
                        </div>
                    </div>

                    <div class="col-md-2">
                        <div class="form-group bmd-form-group">
                            <label> فلترة النتائج بحالة الوتائق  </label>
                            <el-select @change="GetInfo()" v-model="PrisonerDocumentStatus" filterable
                                       placeholder="الحاله">
                                <el-option v-for="item in [{id:1,name:'مكتمل '},{id:2,name:'غير مكتمل '}]"
                                           :key="item.id"
                                           :label="item.name"
                                           :value="item.id">
                                </el-option>
                            </el-select>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group bmd-form-group">
                            <label> فلترة النتائج بالحالة  </label>
                            <el-select @change="GetInfo()" v-model="PrisonerStatus" filterable
                                       placeholder="الحاله">
                                <el-option v-for="item in [{id:1,name:'مستمر'},{id:2,name:'مستوفي القيمة'}]"
                                           :key="item.id"
                                           :label="item.name"
                                           :value="item.id">
                                </el-option>
                            </el-select>
                        </div>
                    </div>
                    <div class="col-md-1">

                    </div>
                    <div class="col-md-1">
                        <div class="dataTable-top">
                            <el-select v-model="pageSize"
                                       @change="GetInfo()"
                                       filterable
                                       style=" width: 130%;margin-top:25px ">
                                <el-option v-for="item in [{id:5,name:'5'},
                                                           {id:10,name:'10'},
                                                           {id:20,name:'20'},
                                                           {id:40,name:'40'},
                                                           {id:80,name:'80'},
                                                           {id:100,name:'100'},
                                                           {id:200,name:'200'},
                                                           {id:400,name:'400'},
                                           ]"
                                           :key="item.id"
                                           :label="item.name"
                                           :value="item.id">
                                </el-option>
                            </el-select>
                        </div>
                    </div>

                </div>





                <div class="card-body px-0 pb-0">
                    <el-alert style="margin-top:120px"
                              v-if="Info==0"
                              title="عذرا لاتــوجد بيـــانـــات  !!!"
                              type="info"
                              center :closable="false" show-icon>
                    </el-alert>
                    <div class="table-responsive">
                        <div class="dataTable-wrapper dataTable-loading no-footer sortable searchable fixed-columns"
                             v-if="Info!=0">
                            <div class="dataTable-container">
                                <table class="table table-flush dataTable-table" id="products-list">
                                    <thead class="thead-light">
                                        <tr>
                                            <th>
                                                <a href="#">#</a>
                                            </th>
                                            <th>
                                                <a> الإسم الرباعي</a>
                                            </th>
                                            <th>
                                                <a>  رقم الملف</a>
                                            </th>
                                            <th>
                                                <a> الرقم الوطني </a>
                                            </th>
                                            <th>
                                                <a>  رقم الهاتف </a>
                                            </th>
                                            <th v-if="loginDetails.userType == 1">
                                                <a>  المركز الخدمي </a>
                                            </th>
                                            <th>
                                                <a> عدد الايام </a>
                                            </th>
                                            <th>
                                                <a> عدد المستوفية </a>
                                            </th>
                                            <th>
                                                <a> عدد المتبقية </a>
                                            </th>

                                            <th  v-if="loginDetails.userType==1">
                                                <a> منفذ العملية</a>
                                            </th>
                                            <th>
                                                <a> الحالة</a>
                                            </th>
                                            <th  v-if="loginDetails.userType==1">
                                                <a> تاريخ الادراج</a>
                                            </th>
                                            <th style="text-align:left">
                                                <a> الإعدادات</a>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr v-for="item,index in Info">
                                            <td class="text-sm">
                                                {{index+1}}
                                            </td>
                                            <td class="text-sm">
                                                <div class="d-flex">
                                                    <img class="avatar avatar-sm me-3" :src="item.image" alt="avatar image">
                                                    <h6 class="ms-3 my-auto">{{item.name}}</h6>
                                                </div>
                                            </td>
                                            <td class="text-sm">
                                                {{item.barCode}}
                                            </td>
                                            <td class="text-sm">
                                                {{item.nid}}
                                            </td>

                                            <td class="text-sm">
                                                {{item.phone}}
                                            </td>

                                            <td class="text-sm" v-if="loginDetails.userType == 1">
                                                {{item.officeName}}
                                            </td>
                                            <td class="text-sm">
                                                {{item.countOfDay}}
                                            </td>
                                            <td class="text-sm">
                                                {{item.countOfDayPay}}
                                            </td>
                                            <td class="text-sm">
                                                {{item.countOfDayRemind}}
                                            </td>

                                            <td class="text-sm"  v-if="loginDetails.userType==1">
                                                {{item.createdBy}}
                                            </td>

                                            <td class="text-sm">
                                                <el-tag type="success" v-if="item.status==1">مستمر</el-tag>
                                                <el-tag type="danger" v-if="item.status==2">مستوفي الفيمة</el-tag>
                                            </td>

                                            <td class="text-sm"  v-if="loginDetails.userType==1">
                                                {{item.createdOn | moment}}
                                            </td>

                                            <td class="text-sm" style="text-align:left">


                                                <a href="#"
                                                   @click.prevent="OpenQrDilaog(item)"
                                                   data-bs-toggle="tooltip"
                                                   data-bs-original-title="Preview product">
                                                    <i class="fa fa-qrcode text-secondary" aria-hidden="true"></i>
                                                </a>
                                                <a href="#"
                                                   class="mx-3"
                                                   @click.prevent="OpenEditDilaog(item)"
                                                   data-bs-toggle="tooltip"
                                                   data-bs-original-title="Preview product">
                                                    <i class="fas fa-edit text-secondary" aria-hidden="true"></i>
                                                </a>

                                                <a href="#"
                                                   @click.prevent="OpenScheduleDilaog(item)"
                                                   data-bs-toggle="tooltip"
                                                   data-bs-original-title="Preview product">
                                                    <i class="fa fa-calendar-o text-secondary" aria-hidden="true"></i>
                                                </a>

                                                <a href="#"
                                                   class="mx-3"
                                                   @click.prevent="Delete(item.id)"
                                                   data-bs-toggle="tooltip"
                                                   data-bs-original-title="Preview product">
                                                    <i class="fas fa-trash text-secondary" aria-hidden="true"></i>
                                                </a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <el-divider></el-divider>
                                <div style="text-align: left; margin-left: 50px;margin-top: 20px;">
                                    Showing <span style="font-weight:bold;">
                                        {{Info.length}}
                                    </span> of
                                    <span style="font-weight:bold;">{{pages}}</span>
                                </div>
                                <div style="text-align: center;padding-bottom:11px">
                                    <el-pagination background layout="prev, pager, next"
                                                   :current-page="pageNo"
                                                   :page-size="pageSize"
                                                   :total="pages"
                                                   @current-change="GetInfo($event)">
                                    </el-pagination>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>



                <!-- Schedule Info -->
                <el-dialog title="تواريخ  الأسر الخاص بالاسير"
                           :visible.sync="ScheduleDilaog"
                           width="70%"
                           style="margin-right: 245px;" center>

                    <div class="row card-header">
                        <div class="row">
                            <div class="col-md-12" style="text-align:left">
                                <button class="btn bg-gradient-dark ms-auto mb-0 js-btn-next" type="button"
                                        title="Next"
                                        size="small"
                                        @click.prevent="ViewAddScheduleComponent=true">
                                    اضافة مدة جديدة
                                </button>

                            </div>
                        </div>
                        <div class="row" v-if="ViewAddScheduleComponent">
                            <el-form :model="ruleFormSchedule"
                                     ref="ruleFormSchedule"
                                     :rules="ruleFormScheduleRule"
                                     class="multisteps-form__form mb-8">

                                <div class="multisteps-form__content">

                                    <div class="row">

                                        <div class="col-md-4">
                                            <el-form-item label="تاريخ الاسر " prop="From">
                                                <el-date-picker style=" width: 100%;"
                                                                v-model="ruleFormSchedule.From"
                                                                type="date"
                                                                placeholder="تاريخ الاسر">
                                                </el-date-picker>
                                            </el-form-item>
                                        </div>
                                        <div class="col-md-4">
                                            <el-form-item label="تاريخ الخروج " prop="To">
                                                <el-date-picker style=" width: 100%;"
                                                                v-model="ruleFormSchedule.To"
                                                                type="date"
                                                                placeholder="تاريخ الخروج">
                                                </el-date-picker>
                                            </el-form-item>
                                        </div>

                                        <div class="col-md-4" style="text-align:left">
                                            <button class="btn bg-gradient-dark ms-auto mb-0 js-btn-next" type="button"
                                                    title="Next"
                                                    size="small"
                                                    style="margin-top:55px"
                                                    @click.prevent="submitScheduleForm('ruleFormSchedule')">
                                                إضافة تواريخ جديدة
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </el-form>
                        </div>
                    </div>

                    <div class="card-body px-0 pb-0">
                        <el-alert style="margin-top:40px"
                                  v-if="PrisonersSchedule==0"
                                  title="عذرا لاتــوجد بيـــانـــات  !!!"
                                  type="info"
                                  center :closable="false" show-icon>
                        </el-alert>
                        <div class="table-responsive">
                            <div class="dataTable-wrapper dataTable-loading no-footer sortable searchable fixed-columns"
                                 v-if="PrisonersSchedule!=0">
                                <div class="dataTable-container">
                                    <table class="table table-flush dataTable-table" id="products-list">
                                        <thead class="thead-light">
                                            <tr>
                                                <th>
                                                    <a href="#">#</a>
                                                </th>
                                                <th>
                                                    <a> تاريخ الاسر   </a>
                                                </th>
                                                <th>
                                                    <a> تاريخ الخروج  </a>
                                                </th>
                                                <th>
                                                    <a>  عدد الايام  </a>
                                                </th>
                                                <th>
                                                    <a> منفذ العملية</a>
                                                </th>
                                                <th>
                                                    <a> تاريخ الادراج</a>
                                                </th>
                                                <th style="text-align:left">
                                                    <a> الإعدادات</a>
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr v-for="item,index in PrisonersSchedule">
                                                <td class="text-sm">
                                                    {{index+1}}
                                                </td>
                                                <td class="text-sm">
                                                    {{item.from | momentTime}}
                                                </td>
                                                <td class="text-sm">
                                                    {{item.to | momentTime}}
                                                </td>

                                                <td class="text-sm">
                                                    {{item.countOfDay}}
                                                </td>

                                                <td class="text-sm">
                                                    {{item.createdBy}}
                                                </td>

                                                <td class="text-sm">
                                                    {{item.createdOn | moment}}
                                                </td>

                                                <td class="text-sm" style="text-align:left">

                                                    <el-tooltip content="حذف" placement="top" effect="light">
                                                        <span class="mx-2" data-bs-toggle="tooltip"
                                                              data-bs-original-title="Delete" @click="DeletePrisonersSchedule(item.id)"
                                                              style="cursor: pointer;" data-bs-target="#list">
                                                            <i class="fas fa-trash text-danger" aria-hidden="true"></i>
                                                        </span>
                                                    </el-tooltip>


                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <el-divider></el-divider>
                                </div>
                            </div>
                        </div>
                    </div>





                </el-dialog>


            </div>




            <!--Edit Prisoners-->
            <div class="row" v-if="state==1">
                <div class="col-12 col-lg-12 m-auto  formInfo">
                    <el-form :model="ruleForm"
                             :rules="rules"
                             ref="ruleForm"
                             class="multisteps-form__form mb-8">


                        <div class="card multisteps-form__panel p-3 border-radius-xl bg-white js-active"
                             data-animation="FadeIn">
                            <h5 class="font-weight-bolder mb-0">تعديل بيانات أسير  </h5>

                            <p class="mb-0 text-sm" style="margin-top: 7px;">الرجاء التأكد من إدخال جميع البيانات  </p>

                            <div class="row">
                                <div class="col-md-10">

                                </div>
                                <div class="col-md-2" style="direction: ltr; margin-top: -50px;">
                                    <button style="margin: 10px;" type="button" @click="Back()"
                                            class="btn btn-outline-warning btn-sm mb-0">
                                        رجوع
                                    </button>
                                </div>
                            </div>

                            <div class="multisteps-form__content">

                                <!--Personal Info-->
                                <div class="row" style="margin-top: 98px; margin-bottom: 25px;">
                                    <el-divider content-position="right"><h4>البيانات الشخصية  </h4></el-divider>
                                </div>

                                <div class="row" style="margin-bottom: 25px;">
                                    <div class="col-md-10">

                                    </div>
                                    <div class="col-md-2">

                                        <div>
                                            <img style="height: 100px !important;
                                                float: left !important;
                                                width: 100px !important;
                                                margin-left: 42px;
                                                margin-bottom: 16px;"
                                                 :src="SelectedItem.image"
                                                 class="shadow-sm w-100 border-radius-lg" alt="">
                                        </div>

                                        <el-upload action="#"
                                                   class="upload-demo "
                                                   style=" margin-left: 15px; margin-top: 2px;"
                                                   :on-change="SelectCoverAttachment">
                                            <el-button size="small" type="primary"
                                                       class="btn bg-gradient-primary ms-auto mb-0 js-btn-next">تغير الصورة الشخصية</el-button>
                                        </el-upload>
                                    </div>
                                </div>

                                <div class="row">

                                    <div class="col-md-4">
                                        <el-form-item label="الإسم رباعي" prop="Name">
                                            <input v-model="ruleForm.Name"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder="الإسم رباعي">
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-4">
                                        <el-form-item label="اسم الأم" prop="MotharName">
                                            <input v-model="ruleForm.MotharName"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder="اسم الأم">
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-2">
                                        <el-form-item label="حالة الوتائق ">
                                            <el-select v-model="ruleForm.IsFinsh"
                                                       placeholder=" حالة الوتائق">
                                                <el-option v-for="item in
                                                               [{id:1,name:'  مكتمل الوتائق'},
                                                               {id:2,name:'غير مكتمل '}]"
                                                           :key="item.id"
                                                           :label="item.name"
                                                           :value="item.id">
                                                </el-option>
                                            </el-select>
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-2">
                                        <el-form-item label="الحالة ">
                                            <el-select v-model="ruleForm.IsLive"
                                                       placeholder="الحالة">
                                                <el-option v-for="item in
                                                               [{id:1,name:'على قيد الحياة'},
                                                               {id:2,name:'متوفي'}]"
                                                           :key="item.id"
                                                           :label="item.name"
                                                           :value="item.id">
                                                </el-option>
                                            </el-select>
                                        </el-form-item>
                                    </div>


                                </div>

                                <div class="row">

                                    <div class="col-md-4" v-if="ruleForm.MaritalStatus!=2">
                                        <el-form-item label="الوضع العائلي" prop="MaritalStatus">
                                            <el-select v-model="ruleForm.MaritalStatus" filterable
                                                       placeholder="الوضع العائلي">
                                                <el-option v-for="item in [{id:1,name:'عازب'},{id:2,name:'متزوج'},{id:3,name:'ارمل'}]"
                                                           :key="item.id"
                                                           :label="item.name"
                                                           :value="item.id">
                                                </el-option>
                                            </el-select>
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-3" v-if="ruleForm.MaritalStatus==2">
                                        <el-form-item label="الوضع العائلي" prop="MaritalStatus">
                                            <el-select v-model="ruleForm.MaritalStatus" filterable
                                                       placeholder="الوضع العائلي">
                                                <el-option v-for="item in [{id:1,name:'عازب'},{id:2,name:'متزوج'},{id:3,name:'ارمل'}]"
                                                           :key="item.id"
                                                           :label="item.name"
                                                           :value="item.id">
                                                </el-option>
                                            </el-select>
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-3" v-if="ruleForm.MaritalStatus==2">
                                        <el-form-item label=" عدد الأبناء" prop="ChildrenCount">
                                            <el-select v-model="ruleForm.ChildrenCount" filterable
                                                       placeholder=" عدد الأبناء">
                                                <el-option v-for="item in [{id:0,name:'0'},{id:1,name:'1'}
                                                               ,{id:2,name:'2'}
                                                               ,{id:3,name:'3'}
                                                               ,{id:4,name:'4'}
                                                               ,{id:5,name:'5'}
                                                               ,{id:6,name:'6'}
                                                               ,{id:7,name:'7'}
                                                               ,{id:8,name:'8'}
                                                               ,{id:9,name:'9'}
                                                               ,{id:10,name:'10'}]"
                                                           :key="item.id"
                                                           :label="item.name"
                                                           :value="item.id">
                                                </el-option>
                                            </el-select>
                                        </el-form-item>
                                    </div>


                                    <div class="col-md-3" v-if="ruleForm.MaritalStatus==2">
                                        <el-form-item label="الرقم الوطني" prop="NID">
                                            <input v-model="ruleForm.NID"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder=" الرقم الوطني">
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-3" v-if="ruleForm.MaritalStatus==2">
                                        <el-form-item label="جواز السفر  ">
                                            <input v-model="ruleForm.Passport"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder=" جواز السفر  ">
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-4" v-if="ruleForm.MaritalStatus!=2">
                                        <el-form-item label="الرقم الوطني" prop="NID">
                                            <input v-model="ruleForm.NID"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder=" الرقم الوطني">
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-4" v-if="ruleForm.MaritalStatus!=2">
                                        <el-form-item label="جواز السفر  ">
                                            <input v-model="ruleForm.Passport"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder=" جواز السفر  ">
                                        </el-form-item>
                                    </div>

                                </div>

                                <div class="row">

                                    <div class="col-md-3">
                                        <el-form-item label="الجنس" prop="Gender">
                                            <el-select v-model="ruleForm.Gender" filterable
                                                       placeholder="الجنس">
                                                <el-option v-for="item in [{id:1,name:'ذكر'},{id:2,name:'أنثي'}]"
                                                           :key="item.id" :label="item.name" :value="item.id">
                                                </el-option>
                                            </el-select>
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-3">
                                        <el-form-item label="تاريخ الميلاد" prop="BirthDate">
                                            <el-date-picker style=" width: 100%;"
                                                            v-model="ruleForm.BirthDate"
                                                            type="date"
                                                            placeholder="تاريخ الميلاد">
                                            </el-date-picker>
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-3">
                                        <el-form-item label="العنوان" prop="Address">
                                            <input v-model="ruleForm.Address"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder=" العنوان">
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-3">
                                        <el-form-item label="مكان العمل" prop="Workplace">
                                            <input v-model="ruleForm.Workplace"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder=" مكان العمل">
                                        </el-form-item>
                                    </div>


                                </div>

                                <div class="row" style="margin-top: 20px; font-size: 14px;">
                                    <label>  حالة أولي الامر <span style="color: red; font-size: 15px;">*</span></label>
                                    <div class="col-md-2">
                                        <el-checkbox v-model="ruleForm.IsLiveMothar" label="الأم على قيد الحياة" border></el-checkbox>
                                    </div>
                                    <div class="col-md-2">
                                        <el-checkbox v-model="ruleForm.IsLiveFather" label="الأب على قيد الحياه" border></el-checkbox>
                                    </div>
                                    <div class="col-md-2">
                                    </div>

                                    <div class="col-md-6" style="margin-top: -36px;">
                                        <label>    المؤهل العلمي <span style="color: red; font-size: 15px;">*</span></label>
                                        <el-form-item prop="Qualification">
                                            <el-select v-model="ruleForm.Qualification" filterable
                                                       placeholder="المؤهل العلمي">
                                                <el-option v-for="item in [{id:1,name:'ثانويه '},{id:9,name:'شهادة إعدادية '},
                                                           {id:8,name:'دبلوم متوسط  '},
                                                           {id:2,name:'دبلوم عالي  '},
                                                           {id:3,name:'ليسانس  '},
                                                           {id:4,name:'بكالوريوس '},
                                                           {id:5,name:'ماجستير '},
                                                           {id:6,name:' دكتوراء '},
                                                           {id:7,name:' لايوجد '}]"
                                                           :key="item.id"
                                                           :label="item.name"
                                                           :value="item.id">
                                                </el-option>
                                            </el-select>
                                        </el-form-item>
                                    </div>



                                </div>



                                <!--Family Info-->
                                <div class="row"
                                     v-if="ruleForm.IsLive==2"
                                     style="margin-top: 98px; margin-bottom: 25px;">
                                    <el-divider content-position="right"><h4>بيانات  الوكيل  </h4></el-divider>
                                </div>

                                <div class="row" v-if="ruleForm.IsLive==2 ">
                                    <div class="col-md-4">
                                        <el-form-item label="الاسم رباعي ">
                                            <input v-model="ruleForm.WakelName"
                                                   class="multisteps-form__input form-control"
                                                   type="text"
                                                   placeholder=" الاسم رباعي  ">
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-4">
                                        <el-form-item label="الرقم الوطني ">
                                            <input v-model="ruleForm.WakelNID"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder=" الرقم الوطني ">
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-4">
                                        <el-form-item label="رقم الهاتف">
                                            <input v-model="ruleForm.WakelPhone"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder="   رقم الهاتف ">
                                        </el-form-item>
                                    </div>
                                </div>




                                <!--Family Info-->
                                <div class="row" style="margin-top: 98px; margin-bottom: 25px;" v-if="loginDetails.userType == 1">
                                    <el-divider content-position="right"><h4>بيانات  أقرب الأقارب  </h4></el-divider>
                                </div>

                                <div class="row" v-if="ruleForm.MaritalStatus!=2">
                                    <div class="col-md-6">
                                        <el-form-item label="الرقم الوطني للأب">
                                            <input v-model="ruleForm.FatherNID"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder=" الرقم الوطني للأب">
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-6">
                                        <el-form-item label="الرقم الوطني للأم">
                                            <input v-model="ruleForm.MotherNID"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder="  الرقم الوطني للأم">
                                        </el-form-item>
                                    </div>
                                </div>

                                <div class="row" v-if="ruleForm.MaritalStatus==2">

                                    <!--<div class="col-md-3">
        <el-form-item label="الرقم الوطني للأب">
            <input v-model="ruleForm.FatherNID"
                   class="multisteps-form__input form-control" type="text"
                   placeholder=" الرقم الوطني للأب">
        </el-form-item>
    </div>

    <div class="col-md-3">
        <el-form-item label="الرقم الوطني للأم">
            <input v-model="ruleForm.MotherNID"
                   class="multisteps-form__input form-control" type="text"
                   placeholder="  الرقم الوطني للأم">
        </el-form-item>
    </div>-->
                                    <div class="col-md-3">
                                        <el-form-item label="الرقم الوطني للزوجة">
                                            <input v-model="ruleForm.WifeNID"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder="  الرقم الوطني للزوجة  ">
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-3">
                                        <el-form-item label="الرقم الوطني للزوجة">
                                            <input v-model="ruleForm.WifeNID1"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder="  الرقم الوطني للزوجة  ">
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-3">
                                        <el-form-item label="الرقم الوطني للزوجة">
                                            <input v-model="ruleForm.WifeNID2"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder="  الرقم الوطني للزوجة  ">
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-3">
                                        <el-form-item label="الرقم الوطني للزوجة">
                                            <input v-model="ruleForm.WifeNID3"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder="  الرقم الوطني للزوجة  ">
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-3" v-if="ruleForm.ChildrenCount>=1">
                                        <el-form-item label="الرقم الوطني للأبن">
                                            <input v-model="ruleForm.Child1"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder="  الرقم الوطني للأبن  ">
                                        </el-form-item>
                                    </div>




                                </div>

                                <div class="row" v-if="ruleForm.ChildrenCount>=2">

                                    <div class="col-md-3">
                                        <el-form-item label="الرقم الوطني للأبن">
                                            <input v-model="ruleForm.Child2"
                                                   class="multisteps-form__input form-control"
                                                   type="text"
                                                   placeholder="  الرقم الوطني للأبن  ">
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-3" v-if="ruleForm.ChildrenCount>=3">
                                        <el-form-item label="الرقم الوطني للأبن">
                                            <input v-model="ruleForm.Child3"
                                                   class="multisteps-form__input form-control"
                                                   type="text"
                                                   placeholder="  الرقم الوطني للأبن  ">
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-3" v-if="ruleForm.ChildrenCount>=4">
                                        <el-form-item label="الرقم الوطني للأبن">
                                            <input v-model="ruleForm.Child4"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder="  الرقم الوطني للأبن  ">
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-3" v-if="ruleForm.ChildrenCount>=5">
                                        <el-form-item label="الرقم الوطني للأبن">
                                            <input v-model="ruleForm.Child5"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder="  الرقم الوطني للأبن  ">
                                        </el-form-item>
                                    </div>


                                </div>

                                <div class="row" v-if="ruleForm.ChildrenCount>=6">

                                    <div class="col-md-3">
                                        <el-form-item label="الرقم الوطني للأبن">
                                            <input v-model="ruleForm.Child6"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder="  الرقم الوطني للأبن  ">
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-3" v-if="ruleForm.ChildrenCount>=7">
                                        <el-form-item label="الرقم الوطني للأبن">
                                            <input v-model="ruleForm.Child7"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder="  الرقم الوطني للأبن  ">
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-3" v-if="ruleForm.ChildrenCount>=8">
                                        <el-form-item label="الرقم الوطني للأبن">
                                            <input v-model="ruleForm.Child8"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder="  الرقم الوطني للأبن  ">
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-3" v-if="ruleForm.ChildrenCount>=9">
                                        <el-form-item label="الرقم الوطني للأبن">
                                            <input v-model="ruleForm.Child9"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder="  الرقم الوطني للأبن  ">
                                        </el-form-item>
                                    </div>

                                </div>

                                <div class="row" v-if="ruleForm.ChildrenCount>=10">

                                    <div class="col-md-3">
                                        <el-form-item label="الرقم الوطني للأبن">
                                            <input v-model="ruleForm.Child10"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder="  الرقم الوطني للأبن  ">
                                        </el-form-item>
                                    </div>

                                </div>


                                <!--Cotact Info-->
                                <div class="row" style="margin-top: 98px; margin-bottom: 25px;" v-if="loginDetails.userType == 1">
                                    <el-divider content-position="right"><h4>البيانات الصحية  </h4></el-divider>
                                </div>

                                <div class="row">
                                    <div class="col-md-6">
                                        <el-form-item label="هل يعاني الأسير من مشاكل صحية" prop="HealthIssues">
                                            <el-select v-model="ruleForm.HealthIssues" filterable
                                                       placeholder="الحالة الصحية">
                                                <el-option v-for="item in [{id:1,name:'لا توجد مشاكل صحية '},
                                                           {id:2,name:'إعاقة  '},
                                                           {id:3,name:' أمراض مزمنة '}]"
                                                           :key="item.id"
                                                           :label="item.name"
                                                           :value="item.id">
                                                </el-option>
                                            </el-select>
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-6" v-if="ruleForm.HealthIssues==3">
                                        <el-form-item label="المرض المزمن" prop="Disease">
                                            <el-select v-model="ruleForm.Disease" filterable
                                                       placeholder=" المرض">
                                                <el-option v-for="item in [{id:1,name:'ضغط '},
                                                           {id:2,name:'سكري  '},
                                                           {id:3,name:'ورم  '},
                                                           {id:4,name:'مريض كلى  '},
                                                           {id:5,name:'  أخري '}]"
                                                           :key="item.id"
                                                           :label="item.name"
                                                           :value="item.id">
                                                </el-option>
                                            </el-select>
                                        </el-form-item>
                                    </div>




                                </div>






                                <!--Cotact Info-->
                                <div class="row" style="margin-top: 98px; margin-bottom: 25px;" v-if="loginDetails.userType == 1">
                                    <el-divider content-position="right"><h4>بيانات التواصل والحساب  </h4></el-divider>
                                </div>

                                <div class="row">
                                    <div class="col-md-3">
                                        <el-form-item label="رقم الهاتف" prop="Phone">
                                            <input v-model="ruleForm.Phone"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder=" رقم الهاتف">
                                        </el-form-item>
                                    </div>
                                    <div class="col-md-3">
                                        <el-form-item label="المصرف" prop="BankId">
                                            <el-select v-model="ruleForm.BankId" filterable
                                                       @change="Edit_GetBankBranchesByBankIdInfo()"
                                                       placeholder="المصرف">
                                                <el-option v-for="item in Bank"
                                                           :key="item.id"
                                                           :label="item.name"
                                                           :value="item.id">
                                                </el-option>
                                            </el-select>
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-3">
                                        <el-form-item label="الفرع" prop="BankBranchesId">
                                            <el-select v-model="ruleForm.BankBranchesId" filterable
                                                       placeholder="الفرع">
                                                <el-option v-for="item in BankBranches"
                                                           :key="item.id"
                                                           :label="item.name"
                                                           :value="item.id">
                                                </el-option>
                                            </el-select>
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-3">
                                        <el-form-item label="رقم الحساب" prop="AcountNumber">
                                            <input v-model="ruleForm.AcountNumber"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder=" رقم الحساب">
                                        </el-form-item>
                                    </div>



                                </div>


                                <!--Cotact Info-->
                                <div class="row" style="margin-top: 98px; margin-bottom: 25px;">
                                    <el-divider content-position="right"><h4>  بيانات الحساب (اضافة حساب تاني ان وجد)   </h4></el-divider>
                                </div>

                                <div class="row">
                                    <div class="col-md-4">
                                        <el-form-item label="المصرف">
                                            <el-select v-model="ruleForm.BankId1" filterable
                                                       @change="Edit_GetBankBranchesByBankIdInfo1()"
                                                       placeholder="المصرف">
                                                <el-option v-for="item in Bank"
                                                           :key="item.id"
                                                           :label="item.name"
                                                           :value="item.id">
                                                </el-option>
                                            </el-select>
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-4">
                                        <el-form-item label="الفرع">
                                            <el-select v-model="ruleForm.BankBranchesId1" filterable
                                                       placeholder="الفرع">
                                                <el-option v-for="item in BankBranches1"
                                                           :key="item.id"
                                                           :label="item.name"
                                                           :value="item.id">
                                                </el-option>
                                            </el-select>
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-4">
                                        <el-form-item label="رقم الحساب">
                                            <input v-model="ruleForm.AcountNumber1"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder=" رقم الحساب">
                                        </el-form-item>
                                    </div>



                                </div>


                                <!--Kedniy Center Info-->
                                <div class="row" style="margin-top: 98px; margin-bottom: 25px;" v-if="loginDetails.userType == 1">
                                    <el-divider content-position="right"><h4>بيانات  المركز الخدمي  </h4></el-divider>
                                </div>

                                <div class="row" v-if="loginDetails.userType == 1">

                                    <div class="col-md-4">
                                        <el-form-item label="المدينة" prop="CityCenterId">
                                            <el-select filterable placeholder="المدينة"
                                                       v-model="ruleForm.CityCenterId"
                                                       @change="Edit_GetMunicipalitiesInfo()">
                                                <el-option v-for="item in Cities"
                                                           :key="item.id"
                                                           :label="item.name"
                                                           :value="item.id">
                                                </el-option>
                                            </el-select>
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-4">
                                        <el-form-item label="البلدية" prop="MunicipalitiesId">
                                            <el-select filterable v-model="ruleForm.MunicipalitiesId"
                                                       placeholder="البلدية"
                                                       @change="Edit_GetOfficesInfo()">
                                                <el-option v-for="item in Municipalities"
                                                           :key="item.id"
                                                           :label="item.name"
                                                           :value="item.id">
                                                </el-option>
                                            </el-select>
                                        </el-form-item>
                                    </div>
                                    <div class="col-md-4">
                                        <el-form-item label="المركز الخدمي" prop="OfficeId">
                                            <el-select filterable
                                                       v-model="ruleForm.OfficeId"
                                                       placeholder="المركز الخدمي">
                                                <el-option v-for="item in Offices"
                                                           :key="item.id"
                                                           :label="item.name"
                                                           :value="item.id">
                                                </el-option>
                                            </el-select>
                                        </el-form-item>
                                    </div>

                                </div>




                                <!--Cotact Info-->
                                <div class="row" style="margin-top: 98px; margin-bottom: 25px;" v-if="loginDetails.userType == 1">
                                    <el-divider content-position="right"><h4>بيانات  الشهود من السجناء  </h4></el-divider>
                                </div>

                                <div class="row">

                                    <div class="col-md-6">
                                        <el-form-item label="الإسم الرباعي (الشاهد الأول) " prop="WitnessName">
                                            <input v-model="ruleForm.WitnessName"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder="الإسم رباعي">
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-6">
                                        <el-form-item label="الرقم الوطني او اتبات الهوية (الشاهد الأول)" prop="WitnessNID">
                                            <input v-model="ruleForm.WitnessNID"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder="  الرقم الوطني ">
                                        </el-form-item>
                                    </div>

                                </div>

                                <div class="row">

                                    <div class="col-md-6">
                                        <el-form-item label="الإسم الرباعي (الشاهد التاني) " prop="WitnessName1">
                                            <input v-model="ruleForm.WitnessName1"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder="الإسم رباعي">
                                        </el-form-item>
                                    </div>

                                    <div class="col-md-6">
                                        <el-form-item label="الرقم الوطني او اتبات الهوية (الشاهد التاني)" prop="WitnessNID1">
                                            <input v-model="ruleForm.WitnessNID1"
                                                   class="multisteps-form__input form-control" type="text"
                                                   placeholder="  الرقم الوطني ">
                                        </el-form-item>
                                    </div>

                                </div>









                                <div class="row" style="margin-top: 98px; margin-bottom: 25px;">
                                    <el-divider content-position="right"><h4> المرفقات إن وجدت    </h4></el-divider>
                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <el-alert style="margin-top:5px"
                                                  v-if="ruleForm.Attachments==0"
                                                  title=" بيانات الأسير لا تحتوي على مرفقات في الوقت الحالي   !!!"
                                                  type="info"
                                                  center :closable="false" show-icon>
                                        </el-alert>
                                        <ul class="el-upload-list el-upload-list--picture-card">
                                            <li class="el-upload-list__item is-ready"
                                                v-if="ruleForm.Attachments!=0"
                                                v-for="item,index in ruleForm.Attachments">
                                                <div>
                                                    <img :src="ServerUrl+item.url" alt="" class="el-upload-list__item-thumbnail">
                                                    <span class="el-upload-list__item-actions">
                                                        <span class="el-upload-list__item-preview"
                                                              @click="handlePictureCardPreview(item)"
                                                              style="margin-left: 15px;">
                                                            <i class="el-icon-zoom-in"></i>
                                                        </span>
                                                        <span class="el-upload-list__item-delete"
                                                              @click="handleDownload(item)">
                                                            <i class="el-icon-download"></i>
                                                        </span>
                                                        <span class="el-upload-list__item-delete"
                                                              @click="Edit_handleRemove(item.id)">
                                                            <i class="el-icon-delete"></i>
                                                        </span>
                                                    </span>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>

                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <el-dialog :visible.sync="dialogVisible">
                                            <img width="100%" :src="dialogImageUrl" alt="">
                                        </el-dialog>
                                    </div>


                                </div>


                                <!--Cotact Info-->
                                <div class="row" style="margin-top: 98px; margin-bottom: 25px;">
                                    <el-divider content-position="right"><h4> إضافة مرفقات جديدة    </h4></el-divider>
                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <el-form-item>
                                            <el-upload action="#"
                                                       :on-change="SelectCoverAttachment1"
                                                       list-type="picture-card"
                                                       :auto-upload="false">
                                                <i slot="default" class="el-icon-plus"></i>
                                                <!--<div slot="file" slot-scope="{file}">
                        <img class="el-upload-list__item-thumbnail"
                             :src="file.url" alt="">
                        <span class="el-upload-list__item-actions">
                            <span class="el-upload-list__item-preview"
                                  style="margin-left:15px"
                                  @click="handlePictureCardPreview(file)">
                                <i class="el-icon-zoom-in"></i>
                            </span>
                            <span v-if="!disabled"
                                  class="el-upload-list__item-delete"
                                  @click="handleDownload(file)">
                                <i class="el-icon-download"></i>
                            </span>
                            <span v-if="!disabled"
                                  class="el-upload-list__item-delete"
                                  @click="handleRemove(file)">
                                <i class="el-icon-delete"></i>
                            </span>
                        </span>
                    </div>-->
                                            </el-upload>
                                        </el-form-item>
                                    </div>

                                </div>



                                <!--Note Info-->
                                <div class="row" style="margin-top: 98px; margin-bottom: 25px;">
                                    <el-divider content-position="right"><h4>ملاحظات أخري يمكن الاستفادة منها   </h4></el-divider>
                                </div>

                                <div class="row">
                                    <div class="col-12 col-sm-12">
                                        <el-form-item prop="Notes">
                                            <el-input :rows="4" type="textarea" v-model="ruleForm.Notes"
                                                      placeholder="الملاحظات">
                                            </el-input>
                                        </el-form-item>
                                    </div>
                                </div>




                                <!--Button Info-->
                                <div class="row" style="margin-top:25px">
                                    <div class="col-12 col-sm-12" style="text-align:left">
                                        <button class="btn bg-gradient-dark ms-auto mb-0 js-btn-next" type="button"
                                                title="Next"
                                                @click.prevent="submitForm('ruleForm')">
                                            تعديل بيانات الأسير
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </el-form>
                </div>
            </div>



            <el-dialog :visible.sync="QrDiloag">
                <img width="100%" :src="SelectedItem.barCodeImage" alt="">
            </el-dialog>





        </div>
    </div>
</div>